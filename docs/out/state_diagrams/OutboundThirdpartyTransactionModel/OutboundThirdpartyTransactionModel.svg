<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="708px" preserveAspectRatio="none" style="width:474px;height:708px;" version="1.1" viewBox="0 0 474 708" width="474px" zoomAndPan="magnify"><defs><filter height="300%" id="f1dftp74hl1m7r" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="330" x="65.75" y="17.4023">OutboundThirdpartyTransactionModel</text><ellipse cx="93.5" cy="37.1992" fill="#000000" filter="url(#f1dftp74hl1m7r)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><g id="start"><rect fill="#FEFECE" filter="url(#f1dftp74hl1m7r)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="51" x="68" y="124.1992"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="68" x2="119" y1="150.6875" y2="150.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="78" y="142.7344">start</text></g><g id="payeeResolved"><rect fill="#FEFECE" filter="url(#f1dftp74hl1m7r)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="121" x="33" y="266.1992"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="33" x2="154" y1="292.6875" y2="292.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="101" x="43" y="284.7344">payeeResolved</text></g><g id="authorizationReceived"><rect fill="#FEFECE" filter="url(#f1dftp74hl1m7r)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="173" x="7" y="408.1992"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="180" y1="434.6875" y2="434.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="153" x="17" y="426.7344">authorizationReceived</text></g><g id="transactionSuccess"><rect fill="#FEFECE" filter="url(#f1dftp74hl1m7r)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="18.5" y="565.1992"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="18.5" x2="168.5" y1="591.6875" y2="591.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="130" x="28.5" y="583.7344">transactionSuccess</text></g><ellipse cx="93.5" cy="686.1992" fill="none" filter="url(#f1dftp74hl1m7r)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="94" cy="686.6992" fill="#000000" rx="6" ry="6" style="stroke: none; stroke-width: 1.0;"/><!--MD5=[dd85dc063561b54f5230c9b8c6f8ed31]
link *start to start--><path d="M93.5,47.1992 C93.5,62.6592 93.5,94.8792 93.5,118.7992 " fill="none" id="*start-to-start" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="93.5,124.0692,97.5,115.0692,93.5,119.0692,89.5,115.0692,93.5,124.0692" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="94.5" y="90.7676">on creation of state machine</text><!--MD5=[0fc15da88fb6cac92cf37afdd7221655]
link start to payeeResolved--><path d="M93.5,174.2692 C93.5,198.2092 93.5,234.9792 93.5,260.6692 " fill="none" id="start-to-payeeResolved" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="93.5,265.9792,97.5,256.9792,93.5,260.9792,89.5,256.9792,93.5,265.9792" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="147.5" y="217.7676">call</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="173.5" y="217.4438">resolvePayee()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="94.5" y="233.0781">wait for</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="146.5" y="232.7544">PUT /parties/{type}/{ID}</text><!--MD5=[67900380549bae49fccf44efd6404a6a]
link payeeResolved to authorizationReceived--><path d="M93.5,316.2692 C93.5,340.2092 93.5,376.9792 93.5,402.6692 " fill="none" id="payeeResolved-to-authorizationReceived" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="93.5,407.9792,97.5,398.9792,93.5,402.9792,89.5,398.9792,93.5,407.9792" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="94.5" y="359.7676">call</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="240" x="120.5" y="359.4438">executeThirdPartyTransaction()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="125.5" y="375.0781">wait for</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="177.5" y="374.7544">POST /authorization</text><!--MD5=[8b11169186a6a8bb19edd7eb53fadadc]
link authorizationReceived to transactionSuccess--><path d="M93.5,458.4192 C93.5,485.8292 93.5,530.4792 93.5,559.8492 " fill="none" id="authorizationReceived-to-transactionSuccess" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="93.5,565.1492,97.5,556.1492,93.5,560.1492,89.5,556.1492,93.5,565.1492" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="233" x="164" y="501.7676">ask user to sign with FIDO credential</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="209.5" y="517.0781">call</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="231.5" y="516.7544">signChallenge()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="94.5" y="532.3887">wait for</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="320" x="146.5" y="532.0649">PUT /thirdpartyRequests/transaction/{ID}</text><!--MD5=[4bc9a7d86f0ddc6db30e0fbdd6134632]
link transactionSuccess to *end--><path d="M93.5,615.4092 C93.5,633.0392 93.5,656.3292 93.5,671.0392 " fill="none" id="transactionSuccess-to-*end" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="93.5,676.0392,97.5,667.0392,93.5,671.0392,89.5,667.0392,93.5,676.0392" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[8f4c0ee5e982c6d764e1f90bc29e80e0]
@startuml OutboundThirdpartyTransactionModel

title OutboundThirdpartyTransactionModel

[*] - -> start: on creation of state machine
start - -> payeeResolved: call ""resolvePayee()""\nwait for ""PUT /parties/{type}/{ID}""
payeeResolved - -> authorizationReceived: call ""executeThirdPartyTransaction()""\nwait for ""POST /authorization""
authorizationReceived - -> transactionSuccess: ask user to sign with FIDO credential\ncall""signChallenge()""\nwait for ""PUT /thirdpartyRequests/transaction/{ID}""
transactionSuccess - -> [*]

@enduml

PlantUML version 1.2020.18(Thu Oct 01 03:40:44 PHT 2020)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: AU
--></g></svg>