<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1406px" preserveAspectRatio="none" style="width:920px;height:1406px;" version="1.1" viewBox="0 0 920 1406" width="920px" zoomAndPan="magnify"><defs><filter height="300%" id="f1at7jx2ui9l33" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="176" x="367.75" y="23.5352">PISPTransferDetailedAPI</text><rect fill="#DDDDDD" height="1361.3652" style="stroke: #A80036; stroke-width: 1.0;" width="101" x="4" y="34.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27" x="41" y="47.0566">PISP</text><rect fill="#DDDDDD" height="1361.3652" style="stroke: #A80036; stroke-width: 1.0;" width="240" x="379.5" y="34.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="61" x="469" y="47.0566">Mojaloop</text><rect fill="#DDDDDD" height="1361.3652" style="stroke: #A80036; stroke-width: 1.0;" width="74" x="621.5" y="34.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="635.5" y="47.0566">DFSP A</text><rect fill="#DDDDDD" height="1361.3652" style="stroke: #A80036; stroke-width: 1.0;" width="75" x="697.5" y="34.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="713" y="47.0566">DFSP B</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="54" x2="54" y1="133.4648" y2="1292.877"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="414.5" x2="414.5" y1="133.4648" y2="1292.877"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="476.5" x2="476.5" y1="133.4648" y2="1292.877"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="561.5" x2="561.5" y1="133.4648" y2="1292.877"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="658.5" x2="658.5" y1="133.4648" y2="1292.877"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="734.5" x2="734.5" y1="133.4648" y2="1292.877"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="840.5" x2="840.5" y1="133.4648" y2="1292.877"/><rect fill="#FEFECE" filter="url(#f1at7jx2ui9l33)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="8" y="97.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="75" x="15" y="118.5117">PISP Server</text><rect fill="#FEFECE" filter="url(#f1at7jx2ui9l33)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="8" y="1291.877"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="75" x="15" y="1312.4121">PISP Server</text><rect fill="#FEFECE" filter="url(#f1at7jx2ui9l33)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="58" x="383.5" y="97.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="390.5" y="118.5117">Switch</text><rect fill="#FEFECE" filter="url(#f1at7jx2ui9l33)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="58" x="383.5" y="1291.877"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="390.5" y="1312.4121">Switch</text><rect fill="#FEFECE" filter="url(#f1at7jx2ui9l33)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="39" x="455.5" y="97.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="25" x="462.5" y="118.5117">ALS</text><rect fill="#FEFECE" filter="url(#f1at7jx2ui9l33)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="39" x="455.5" y="1291.877"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="25" x="462.5" y="1312.4121">ALS</text><rect fill="#FEFECE" filter="url(#f1at7jx2ui9l33)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="103" x="508.5" y="97.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="89" x="515.5" y="118.5117">Auth-Service</text><rect fill="#FEFECE" filter="url(#f1at7jx2ui9l33)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="103" x="508.5" y="1291.877"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="89" x="515.5" y="1312.4121">Auth-Service</text><rect fill="#FEFECE" filter="url(#f1at7jx2ui9l33)" height="46.9766" style="stroke: #A80036; stroke-width: 1.5;" width="62" x="625.5" y="81.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="632.5" y="102.0234">DFSP A</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="633" y="118.5117">(Payer)</text><rect fill="#FEFECE" filter="url(#f1at7jx2ui9l33)" height="46.9766" style="stroke: #A80036; stroke-width: 1.5;" width="62" x="625.5" y="1291.877"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="632.5" y="1312.4121">DFSP A</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="633" y="1328.9004">(Payer)</text><rect fill="#FEFECE" filter="url(#f1at7jx2ui9l33)" height="46.9766" style="stroke: #A80036; stroke-width: 1.5;" width="63" x="701.5" y="81.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="46" x="710" y="102.0234">DFSP B</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="708.5" y="118.5117">(Payee)</text><rect fill="#FEFECE" filter="url(#f1at7jx2ui9l33)" height="46.9766" style="stroke: #A80036; stroke-width: 1.5;" width="63" x="701.5" y="1291.877"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="46" x="710" y="1312.4121">DFSP B</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="708.5" y="1328.9004">(Payee)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="810" y="114.0234">Bhavesh</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="119" x="778.5" y="130.5117">(+44 1234 5678)</text><ellipse cx="841" cy="43.4883" fill="#FEFECE" filter="url(#f1at7jx2ui9l33)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M841,51.4883 L841,78.4883 M828,59.4883 L854,59.4883 M841,78.4883 L828,93.4883 M841,78.4883 L854,93.4883 " fill="none" filter="url(#f1at7jx2ui9l33)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="810" y="1305.4121">Bhavesh</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="119" x="778.5" y="1321.9004">(+44 1234 5678)</text><ellipse cx="841" cy="1334.8535" fill="#FEFECE" filter="url(#f1at7jx2ui9l33)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M841,1342.8535 L841,1369.8535 M828,1350.8535 L854,1350.8535 M841,1369.8535 L828,1384.8535 M841,1369.8535 L854,1384.8535 " fill="none" filter="url(#f1at7jx2ui9l33)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#EEEEEE" filter="url(#f1at7jx2ui9l33)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="905.5" x="3" y="164.1201"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="908.5" y1="164.1201" y2="164.1201"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="908.5" y1="167.1201" y2="167.1201"/><rect fill="#EEEEEE" filter="url(#f1at7jx2ui9l33)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="120" x="395.75" y="153.4648"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="102" x="401.75" y="170.0332">Transfer Phase</text><rect fill="#FFFFFF" filter="url(#f1at7jx2ui9l33)" height="252" style="stroke: #A80036; stroke-width: 1.0;" width="284" x="516" y="191.7754"/><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="120" x="520" y="207.8423">POST /transfers</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="520" y="222.9751">FSPIOP-Source: dfspa</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="520" y="238.1079">FSPIOP-Destination: dfspb</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="520" y="253.7422">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="528" y="269.0527">"transferId": "321",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="528" y="284.3633">"quoteId": "456",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="528" y="299.6738">"payerFsp": "dfspa",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="528" y="314.9844">"payeeFsp": "dfspb",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="70" x="528" y="330.2949">"amount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="536" y="345.6055">"amount": "100",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="536" y="360.916">"currency": "USD"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="528" y="376.2266">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="268" x="528" y="391.5371">"expiration": "2020-06-15T13:00:00.000",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="528" y="406.8477">"ilpPacket": "...",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="528" y="422.1582">"condition": "...",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="520" y="437.4688">}</text><polygon fill="#A80036" points="425.5,466.3438,415.5,470.3438,425.5,474.3438,421.5,470.3438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="419.5" x2="657.5" y1="470.3438" y2="470.3438"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="431.5" y="465.2778">POST /transfers</text><polygon fill="#A80036" points="646.5,495.4766,656.5,499.4766,646.5,503.4766,650.5,499.4766" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="414.5" x2="652.5" y1="499.4766" y2="499.4766"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="421.5" y="494.4106">202 Accepted</text><rect fill="#FFFFFF" filter="url(#f1at7jx2ui9l33)" height="252" style="stroke: #A80036; stroke-width: 1.0;" width="284" x="272" y="512.4766"/><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="120" x="276" y="528.5435">POST /transfers</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="276" y="543.6763">FSPIOP-Source: dfspa</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="276" y="558.8091">FSPIOP-Destination: dfspb</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="276" y="574.4434">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="284" y="589.7539">"transferId": "321",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="284" y="605.0645">"quoteId": "456",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="284" y="620.375">"payerFsp": "dfspa",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="284" y="635.6855">"payeeFsp": "dfspb",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="70" x="284" y="650.9961">"amount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="292" y="666.3066">"amount": "100",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="292" y="681.6172">"currency": "USD"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="284" y="696.9277">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="268" x="284" y="712.2383">"expiration": "2020-06-15T13:00:00.000",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="284" y="727.5488">"ilpPacket": "...",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="284" y="742.8594">"condition": "...",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="276" y="758.1699">}</text><polygon fill="#A80036" points="723,787.0449,733,791.0449,723,795.0449,727,791.0449" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="414.5" x2="729" y1="791.0449" y2="791.0449"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="421.5" y="785.979">POST /transfers</text><polygon fill="#A80036" points="425.5,816.1777,415.5,820.1777,425.5,824.1777,421.5,820.1777" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="419.5" x2="734" y1="820.1777" y2="820.1777"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="431.5" y="815.1118">202 Accepted</text><rect fill="#FFFFFF" filter="url(#f1at7jx2ui9l33)" height="129" style="stroke: #A80036; stroke-width: 1.0;" width="356" x="374" y="833.1777"/><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="144" x="378" y="849.2446">PUT /transfers/321</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="378" y="864.3774">FSPIOP-Source: dfspb</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="378" y="879.5103">FSPIOP-Destination: dfspa</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="378" y="895.1445">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="386" y="910.4551">"fulfilment": "...",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="340" x="386" y="925.7656">"completedTimestamp": "2020-06-15T12:01:00.000",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="186" x="386" y="941.0762">"transferState": "COMMITTED"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="378" y="956.3867">}</text><polygon fill="#A80036" points="425.5,985.2617,415.5,989.2617,425.5,993.2617,421.5,989.2617" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="419.5" x2="734" y1="989.2617" y2="989.2617"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="431.5" y="984.1958">PUT /transfers/321</text><polygon fill="#A80036" points="723,1014.3945,733,1018.3945,723,1022.3945,727,1018.3945" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="414.5" x2="729" y1="1018.3945" y2="1018.3945"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="421.5" y="1013.3286">200 OK</text><polygon fill="#A80036" points="646.5,1043.5273,656.5,1047.5273,646.5,1051.5273,650.5,1047.5273" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="414.5" x2="652.5" y1="1047.5273" y2="1047.5273"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="421.5" y="1042.4614">PUT /transfers/321</text><polygon fill="#A80036" points="425.5,1072.6602,415.5,1076.6602,425.5,1080.6602,421.5,1076.6602" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="419.5" x2="657.5" y1="1076.6602" y2="1076.6602"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="431.5" y="1071.5942">200 OK</text><rect fill="#FFFFFF" filter="url(#f1at7jx2ui9l33)" height="129" style="stroke: #A80036; stroke-width: 1.0;" width="344" x="242" y="1089.6602"/><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="336" x="246" y="1105.7271">PATCH /thirdpartyRequests/transactions/123</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="168" x="246" y="1120.8599">FSPIOP-Source: switch</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="246" y="1135.9927">FSPIOP-Destination: pispa</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="246" y="1151.627">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="139" x="254" y="1166.9375">"transactionId": "987",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="250" x="254" y="1182.248">"transactionRequestState": "ACCEPTED",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="208" x="254" y="1197.5586">"transactionState": "COMMITTED"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="246" y="1212.8691">}</text><polygon fill="#A80036" points="65.5,1241.7441,55.5,1245.7441,65.5,1249.7441,61.5,1245.7441" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="59.5" x2="413.5" y1="1245.7441" y2="1245.7441"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="336" x="71.5" y="1240.6782">PATCH /thirdpartyRequests/transactions/123</text><polygon fill="#A80036" points="402.5,1270.877,412.5,1274.877,402.5,1278.877,406.5,1274.877" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="54.5" x2="408.5" y1="1274.877" y2="1274.877"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="61.5" y="1269.811">200 OK</text><!--
@startuml

title PISPTransferDetailedAPI

box "PISP"
participant "PISP Server" as D1
end box
box "Mojaloop"
    participant Switch as S
    participant "ALS" as A
    participant "Auth-Service" as AUTHS
end box
box "DFSP A"
    participant "DFSP A\n(Payer)" as D2
end box
box "DFSP B"
    participant "DFSP B\n(Payee)" as D3
end box
actor "Bhavesh\n(+44 1234 5678)" as CB

== Transfer Phase ==

rnote over D2 #Light
**""POST /transfers""**
""FSPIOP-Source: dfspa""
""FSPIOP-Destination: dfspb""
{
  "transferId": "321",
  "quoteId": "456",
  "payerFsp": "dfspa",
  "payeeFsp": "dfspb",
  "amount": {
    "amount": "100",
    "currency": "USD"
  },
  "expiration": "2020-06-15T13:00:00.000",
  "ilpPacket": "...",
  "condition": "...",
}
end note
D2 -> S: ""POST /transfers""
S - -> D2: ""202 Accepted""

rnote over S #Light
**""POST /transfers""**
""FSPIOP-Source: dfspa""
""FSPIOP-Destination: dfspb""
{
  "transferId": "321",
  "quoteId": "456",
  "payerFsp": "dfspa",
  "payeeFsp": "dfspb",
  "amount": {
    "amount": "100",
    "currency": "USD"
  },
  "expiration": "2020-06-15T13:00:00.000",
  "ilpPacket": "...",
  "condition": "...",
}
end note
S -> D3: ""POST /transfers""
D3 - -> S: ""202 Accepted""

rnote left of D3 #Light
**""PUT /transfers/321""**
""FSPIOP-Source: dfspb""
""FSPIOP-Destination: dfspa""
{
  "fulfilment": "...",
  "completedTimestamp": "2020-06-15T12:01:00.000",
  "transferState": "COMMITTED"
}
end note
D3 -> S: ""PUT /transfers/321""
S - -> D3: ""200 OK""
S -> D2: ""PUT /transfers/321""
D2 - -> S: ""200 OK""


rnote over S #Light
**""PATCH /thirdpartyRequests/transactions/123""**
""FSPIOP-Source: switch""
""FSPIOP-Destination: pispa""
{
  "transactionId": "987",
  "transactionRequestState": "ACCEPTED",
  "transactionState": "COMMITTED"
}
end note
S -> D1: ""PATCH /thirdpartyRequests/transactions/123""
D1 - -> S: ""200 OK""

@enduml

PlantUML version 1.2019.06(Sat May 25 01:10:25 PHT 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_171-b11
Operating System: Mac OS X
OS Version: 10.13.6
Default Encoding: UTF-8
Language: en
Country: AU
--></g></svg>