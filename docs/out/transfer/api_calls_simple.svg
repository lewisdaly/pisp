<svg xmlns="http://www.w3.org/2000/svg" height="1914" preserveAspectRatio="none" style="width:2012px;height:1914px" width="2012">
  <defs>
    <filter height="300%" id="a" width="300%" x="-1" y="-1">
      <feGaussianBlur result="blurOut" stdDeviation="2"/>
      <feColorMatrix in="blurOut" result="blurOut2" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/>
      <feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"/>
      <feBlend in="SourceGraphic" in2="blurOut3"/>
    </filter>
  </defs>
  <text font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="202" x="901.75" y="28.708">
    PISPTransferSimpleAPI
  </text>
  <path fill="#DDD" stroke="#a80036" d="M1 40.953h223v1867.969H1z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="102" x="61.5" y="53.02">
    Mobile device
  </text>
  <path fill="#DDD" stroke="#a80036" d="M226 40.953h104v1867.969H226z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="33" x="261.5" y="53.02">
    PISP
  </text>
  <path fill="#DDD" stroke="#a80036" d="M602.5 40.953h239v1867.969h-239z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="67" x="688.5" y="53.02">
    Mojaloop
  </text>
  <path fill="#DDD" stroke="#a80036" d="M952 40.953h76v1867.969h-76z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="54" x="963" y="53.02">
    DFSP A
  </text>
  <path fill="#DDD" stroke="#a80036" d="M1380 40.953h78v1867.969h-78z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="54" x="1392" y="53.02">
    DFSP B
  </text>
  <path stroke="#a80036" d="M68 159.68v121.398"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M68 281.078v40.805"/>
  <path stroke="#a80036" d="M68 321.883v87.398"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M68 409.281v40.805"/>
  <path stroke="#a80036" d="M68 450.086v1356.242M180 159.68v121.398"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M180 281.078v40.805"/>
  <path stroke="#a80036" d="M180 321.883v87.398"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M180 409.281v40.805"/>
  <path stroke="#a80036" d="M180 450.086v1356.242M278 159.68v121.398"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M278 281.078v40.805"/>
  <path stroke="#a80036" d="M278 321.883v87.398"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M278 409.281v40.805"/>
  <path stroke="#a80036" d="M278 450.086v1356.242M637.5 159.68v121.398"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M637.5 281.078v40.805"/>
  <path stroke="#a80036" d="M637.5 321.883v87.398"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M637.5 409.281v40.805"/>
  <path stroke="#a80036" d="M637.5 450.086v1356.242M700.5 159.68v121.398"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M700.5 281.078v40.805"/>
  <path stroke="#a80036" d="M700.5 321.883v87.398"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M700.5 409.281v40.805"/>
  <path stroke="#a80036" d="M700.5 450.086v1356.242M784.5 159.68v121.398"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M784.5 281.078v40.805"/>
  <path stroke="#a80036" d="M784.5 321.883v87.398"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M784.5 409.281v40.805"/>
  <path stroke="#a80036" d="M784.5 450.086v1356.242M990 159.68v121.398"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M990 281.078v40.805"/>
  <path stroke="#a80036" d="M990 321.883v87.398"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M990 409.281v40.805"/>
  <path stroke="#a80036" d="M990 450.086v1356.242M1419 159.68v121.398"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M1419 281.078v40.805"/>
  <path stroke="#a80036" d="M1419 321.883v87.398"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M1419 409.281v40.805"/>
  <path stroke="#a80036" d="M1419 450.086v1356.242M1527 159.68v121.398"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M1527 281.078v40.805"/>
  <path stroke="#a80036" d="M1527 321.883v87.398"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M1527 409.281v40.805"/>
  <path stroke="#a80036" d="M1527 450.086v1356.242M1632 159.68v121.398"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M1632 281.078v40.805"/>
  <path stroke="#a80036" d="M1632 321.883v87.398"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M1632 409.281v40.805"/>
  <path stroke="#a80036" d="M1632 450.086v1356.242"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="40" y="140.081">
    Ayesha
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="120" x="5" y="156.378">
    (+44 8765 4321)
  </text>
  <circle cx="68" cy="70.086" fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="2" r="8"/>
  <path d="M68 78.086v27m-13-19h26m-13 19l-13 15m13-15l13 15" fill="none" filter="url(#a)" stroke="#a80036" stroke-width="2"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="40" y="1818.323">
    Ayesha
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="120" x="5" y="1834.62">
    (+44 8765 4321)
  </text>
  <circle cx="68" cy="1847.922" fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="2" r="8"/>
  <path d="M68 1855.922v27m-13-19h26m-13 19l-13 15m13-15l13 15" fill="none" filter="url(#a)" stroke="#a80036" stroke-width="2"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M141 124.383h75v30.297h-75z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="148" y="144.378">
    PISP App
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M141 1805.328h75v30.297h-75z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="148" y="1825.323">
    PISP App
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M230 124.383h92v30.297h-92z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="237" y="144.378">
    PISP Server
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M230 1805.328h92v30.297h-92z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="237" y="1825.323">
    PISP Server
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M606.5 124.383h59v30.297h-59z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="45" x="613.5" y="144.378">
    Switch
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M606.5 1805.328h59v30.297h-59z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="45" x="613.5" y="1825.323">
    Switch
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M679.5 124.383h39v30.297h-39z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="25" x="686.5" y="144.378">
    ALS
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M679.5 1805.328h39v30.297h-39z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="25" x="686.5" y="1825.323">
    ALS
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M732.5 124.383h101v30.297h-101z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="87" x="739.5" y="144.378">
    Auth-Service
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M732.5 1805.328h101v30.297h-101z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="87" x="739.5" y="1825.323">
    Auth-Service
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M956 108.086h64v46.594h-64z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="963" y="128.081">
    DFSP A
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="964" y="144.378">
    (Payer)
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M956 1805.328h64v46.594h-64z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="963" y="1825.323">
    DFSP A
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="964" y="1841.62">
    (Payer)
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1384 108.086h66v46.594h-66z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="51" x="1391.5" y="128.081">
    DFSP B
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="1391" y="144.378">
    (Payee)
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1384 1805.328h66v46.594h-66z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="51" x="1391.5" y="1825.323">
    DFSP B
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="1391" y="1841.62">
    (Payee)
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="1494" y="140.081">
    Bhavesh
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="120" x="1464" y="156.378">
    (+44 1234 5678)
  </text>
  <circle cx="1527" cy="70.086" fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="2" r="8"/>
  <path d="M1527 78.086v27m-13-19h26m-13 19l-13 15m13-15l13 15" fill="none" filter="url(#a)" stroke="#a80036" stroke-width="2"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="1494" y="1818.323">
    Bhavesh
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="120" x="1464" y="1834.62">
    (+44 1234 5678)
  </text>
  <circle cx="1527" cy="1847.922" fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="2" r="8"/>
  <path d="M1527 1855.922v27m-13-19h26m-13 19l-13 15m13-15l13 15" fill="none" filter="url(#a)" stroke="#a80036" stroke-width="2"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1600 124.383h61v30.297h-61z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="1607" y="144.378">
    AUTHS
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1600 1805.328h61v30.297h-61z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="1607" y="1825.323">
    AUTHS
  </text>
  <path d="M292 174.68v25h688v-15l-10-10H292" fill="#FBFB77" filter="url(#a)" stroke="#a80036"/>
  <path d="M970 174.68v10h10l-10-10" fill="#FBFB77" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="667" x="298" y="191.747">
    This document aims to demonstrate the high level API Calls between the PISP, Mojaloop Hub and DFSPs.
  </text>
  <path fill="#EEE" filter="url(#a)" stroke="#eee" d="M0 229.379h2005.5v3H0z"/>
  <path stroke="#000" d="M0 229.379h2005.5M0 232.379h2005.5"/>
  <path fill="#EEE" filter="url(#a)" stroke="#000" stroke-width="2" d="M922.25 218.813h161v23.133h-161z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="142" x="928.25" y="234.879">
    Discovery (Lookup)
  </text>
  <path fill="#A80036" stroke="#a80036" d="M626 269.078l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M278 273.078h354"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="248" x="285" y="268.012">
    GET /parties/MSISDN/+4412345678
  </text>
  <text font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="255" x="722.75" y="305.289">
    Get participants/parties flow not shown here
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1407 339.016l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M638 343.016h775"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="248" x="645" y="337.95">
    GET /parties/MSISDN/+4412345678
  </text>
  <path fill="#A80036" stroke="#a80036" d="M649 368.148l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M643 372.148h775"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="248" x="655" y="367.082">
    PUT /parties/MSISDN/+4412345678
  </text>
  <path fill="#A80036" stroke="#a80036" d="M289 397.281l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M283 401.281h354"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="248" x="295" y="396.215">
    PUT /parties/MSISDN/+4412345678
  </text>
  <text font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="262" x="719.25" y="433.492">
    The PISP confirms payee party with their user
  </text>
  <path fill="#EEE" filter="url(#a)" stroke="#eee" d="M0 470.652h2005.5v3H0z"/>
  <path stroke="#000" d="M0 470.652h2005.5M0 473.652h2005.5"/>
  <path fill="#EEE" filter="url(#a)" stroke="#000" stroke-width="2" d="M927.25 460.086h151v23.133h-151z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="132" x="933.25" y="476.153">
    Agreement Phase
  </text>
  <path fill="#A80036" stroke="#a80036" d="M626 510.352l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M278 514.352h354"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="296" x="285" y="509.286">
    POST /thirdpartyRequests/transactions
  </text>
  <path fill="#A80036" stroke="#a80036" d="M978 539.484l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M638 543.484h346"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="296" x="645" y="538.418">
    POST /thirdpartyRequests/transactions
  </text>
  <path stroke="#a80036" d="M990 602.883h42M1032 602.883v13M991 615.883h41"/>
  <path fill="#A80036" stroke="#a80036" d="M1001 611.883l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="997" y="567.551">
    Lookup this
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="1074" y="567.551">
    consentId
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="1146" y="567.551">
    ,
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="1154" y="567.551">
    sourceAccountId
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="997" y="582.684">
    and
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="1025" y="582.684">
    pispId
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="227" x="1073" y="582.684">
    . Verify that they exist, and consent
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="205" x="997" y="597.817">
    is granted with a valid credential
  </text>
  <path stroke="#a80036" d="M990 645.016h42M1032 645.016v13M991 658.016h41"/>
  <path fill="#A80036" stroke="#a80036" d="M1001 654.016l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="387" x="997" y="639.95">
    Generate a unique transactionId for this transaction request:
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="1388" y="639.95">
    987
  </text>
  <path fill="#A80036" stroke="#a80036" d="M649 683.148l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M643 687.148h346"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="328" x="655" y="682.082">
    PUT /thirdpartyRequests/transactions/{id}
  </text>
  <path fill="#A80036" stroke="#a80036" d="M289 712.281l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M283 716.281h354"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="328" x="295" y="711.215">
    PUT /thirdpartyRequests/transactions/{id}
  </text>
  <path fill="#A80036" stroke="#a80036" d="M649 741.414l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M643 745.414h346"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="655" y="740.348">
    POST /quotes
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1407 770.547l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M638 774.547h775"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="645" y="769.481">
    POST /quotes
  </text>
  <path fill="#A80036" stroke="#a80036" d="M649 799.68l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M643 803.68h775"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="655" y="798.614">
    PUT /quotes/456
  </text>
  <path fill="#A80036" stroke="#a80036" d="M978 828.813l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M638 832.813h346"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="645" y="827.747">
    PUT /quotes/456
  </text>
  <path d="M706 845.813v40h275v-30l-10-10H706" fill="#FBFB77" filter="url(#a)" stroke="#a80036"/>
  <path d="M971 845.813v10h10l-10-10" fill="#FBFB77" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="254" x="712" y="862.879">
    DFSPA has the quote, they can now ask
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="712" y="878.012">
    the PISP for authorization
  </text>
  <path fill="#A80036" stroke="#a80036" d="M649 912.21l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M643 916.211h346"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="655" y="911.145">
    POST /authorizations
  </text>
  <path fill="#A80036" stroke="#a80036" d="M289 941.344l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M283 945.344h354"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="295" y="940.278">
    POST /authorizations
  </text>
  <path d="M283 958.344v40h358v-30l-10-10H283" fill="#FBFB77" filter="url(#a)" stroke="#a80036"/>
  <path d="M631 958.344v10h10l-10-10" fill="#FBFB77" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="232" x="289" y="975.411">
    PISP checks the quote with the user,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="337" x="289" y="990.543">
    and uses FIDO to sign the the QuoteResponse object
  </text>
  <path fill="#A80036" stroke="#a80036" d="M626 1024.742l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M278 1028.742h354"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="184" x="285" y="1023.676">
    PUT /authorizations/123
  </text>
  <path fill="#A80036" stroke="#a80036" d="M978 1053.875l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M638 1057.875h346"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="184" x="645" y="1052.809">
    PUT /authorizations/123
  </text>
  <path stroke="#a80036" d="M990 1102.141h42M1032 1102.141v13M991 1115.141h41"/>
  <path fill="#A80036" stroke="#a80036" d="M1001 1111.14l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="71" x="997" y="1081.942">
    Lookup the
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="240" x="1072" y="1081.942">
    thirdpartyRequests/transaction
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="997" y="1097.075">
    request, get the
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="1104" y="1097.075">
    consentId
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="1180" y="1097.075">
    and
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="1208" y="1097.075">
    sourceAccountId
  </text>
  <path stroke="#a80036" d="M990 1159.406h42M1032 1159.406v13M991 1172.406h41"/>
  <path fill="#A80036" stroke="#a80036" d="M1001 1168.406l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="997" y="1139.207">
    Confirm pispId from
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="184" x="1126" y="1139.207">
    PUT /authorizations/123
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="1001" y="1154.34">
    matches the
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="240" x="1086" y="1154.34">
    thirdpartyRequests/transaction
  </text>
  <path d="M759 1185.406v40h458v-30l-10-10H759" fill="#FBFB77" filter="url(#a)" stroke="#a80036"/>
  <path d="M1207 1185.406v10h10l-10-10" fill="#FBFB77" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="201" x="765" y="1202.473">
    Switch has the signed condition
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="437" x="765" y="1217.606">
    For 3rd party FIDO, it now needs to make sure everything checks out
  </text>
  <path fill="#A80036" stroke="#a80036" d="M649 1266.938l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M643 1270.938h346"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="296" x="655" y="1250.739">
    POST /thirdpartyRequests/transactions
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="695" y="1265.872">
    /123/authorizations
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1620.5 1311.203l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M638 1315.203h988.5"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="296" x="645" y="1295.004">
    POST /thirdpartyRequests/transactions
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="685" y="1310.137">
    /123/authorizations
  </text>
  <path stroke="#a80036" d="M1632.5 1344.336h42M1674.5 1344.336v13M1633.5 1357.336h41"/>
  <path fill="#A80036" stroke="#a80036" d="M1643.5 1353.336l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="257" x="1639.5" y="1339.27">
    Lookup this consent based on consentId
  </text>
  <path stroke="#a80036" d="M1632.5 1386.469h42M1674.5 1386.469v13M1633.5 1399.469h41"/>
  <path fill="#A80036" stroke="#a80036" d="M1643.5 1395.469l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="359" x="1639.5" y="1381.403">
    Ensure the sourceAccountId matches what is in Consent
  </text>
  <path stroke="#a80036" d="M1632.5 1443.734h42M1674.5 1443.734v13M1633.5 1456.734h41"/>
  <path fill="#A80036" stroke="#a80036" d="M1643.5 1452.734l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="249" x="1639.5" y="1423.536">
    Check that the signed bytes match the
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="261" x="1639.5" y="1438.668">
    publickey we have stored for the consent
  </text>
  <path fill="#A80036" stroke="#a80036" d="M649 1497l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M643 1501h988.5"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="288" x="655" y="1480.801">
    PUT /thirdpartyRequests/transactions
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="687" y="1495.934">
    /123/authorizations
  </text>
  <path fill="#A80036" stroke="#a80036" d="M978 1541.266l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M638 1545.266h346"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="288" x="645" y="1525.067">
    PUT /thirdpartyRequests/transactions
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="677" y="1540.2">
    /123/authorizations
  </text>
  <path d="M802 1558.266v40h372v-30l-10-10H802" fill="#FBFB77" filter="url(#a)" stroke="#a80036"/>
  <path d="M1164 1558.266v10h10l-10-10" fill="#FBFB77" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="351" x="808" y="1575.332">
    DFSPA now knows that the user signed this transaction
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="269" x="808" y="1590.465">
    and can go ahead and initiate the transfer
  </text>
  <path fill="#EEE" filter="url(#a)" stroke="#eee" d="M0 1628.098h2005.5v3H0z"/>
  <path stroke="#000" d="M0 1628.098h2005.5M0 1631.098h2005.5"/>
  <path fill="#EEE" filter="url(#a)" stroke="#000" stroke-width="2" d="M937.75 1617.531h130v23.133h-130z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="111" x="943.75" y="1633.598">
    Transfer Phase
  </text>
  <path fill="#A80036" stroke="#a80036" d="M649 1667.797l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M643 1671.797h346"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="655" y="1666.731">
    POST /transfers
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1407 1696.93l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M638 1700.93h775"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="645" y="1695.864">
    POST /transfers
  </text>
  <path fill="#A80036" stroke="#a80036" d="M649 1726.063l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M643 1730.063h775"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="655" y="1724.997">
    PUT /transfers/4321
  </text>
  <path fill="#A80036" stroke="#a80036" d="M978 1755.195l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M638 1759.195h346"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="645" y="1754.129">
    PUT /transfers/4321
  </text>
  <path fill="#A80036" stroke="#a80036" d="M289 1784.328l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M283 1788.328h354"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="336" x="295" y="1783.262">
    PATCH /thirdpartyRequests/transactions/123
  </text>
</svg>
