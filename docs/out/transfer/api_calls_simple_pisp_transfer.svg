<svg xmlns="http://www.w3.org/2000/svg" height="2104" preserveAspectRatio="none" style="width:2442px;height:2104px" width="2442">
  <defs>
    <filter height="300%" id="a" width="300%" x="-1" y="-1">
      <feGaussianBlur result="blurOut" stdDeviation="2"/>
      <feColorMatrix in="blurOut" result="blurOut2" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/>
      <feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"/>
      <feBlend in="SourceGraphic" in2="blurOut3"/>
    </filter>
  </defs>
  <text font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="202" x="1116.75" y="28.708">
    PISPTransferSimpleAPI
  </text>
  <path fill="#DDD" stroke="#a80036" d="M85 40.953h104v2058.031H85z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="33" x="120.5" y="53.02">
    PISP
  </text>
  <path fill="#DDD" stroke="#a80036" d="M191 40.953h517v2058.031H191z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="67" x="416" y="53.02">
    Mojaloop
  </text>
  <path fill="#DDD" stroke="#a80036" d="M710 40.953h1230.5v2058.031H710z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="54" x="1298.25" y="53.02">
    DFSP A
  </text>
  <path fill="#DDD" stroke="#a80036" d="M2356.5 40.953h78v2058.031h-78z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="54" x="2368.5" y="53.02">
    DFSP B
  </text>
  <path stroke="#a80036" d="M137 111.68v160.531"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M137 272.211v40.805"/>
  <path stroke="#a80036" d="M137 313.016v87.398"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M137 400.414v40.805"/>
  <path stroke="#a80036" d="M137 441.219v1603.172M246 111.68v160.531"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M246 272.211v40.805"/>
  <path stroke="#a80036" d="M246 313.016v87.398"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M246 400.414v40.805"/>
  <path stroke="#a80036" d="M246 441.219v1603.172M619 111.68v160.531"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M619 272.211v40.805"/>
  <path stroke="#a80036" d="M619 313.016v87.398"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M619 400.414v40.805"/>
  <path stroke="#a80036" d="M619 441.219v1603.172M682 111.68v160.531"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M682 272.211v40.805"/>
  <path stroke="#a80036" d="M682 313.016v87.398"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M682 400.414v40.805"/>
  <path stroke="#a80036" d="M682 441.219v1603.172M748 111.68v160.531"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M748 272.211v40.805"/>
  <path stroke="#a80036" d="M748 313.016v87.398"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M748 400.414v40.805"/>
  <path stroke="#a80036" d="M748 441.219v1603.172M939.5 111.68v160.531"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M939.5 272.211v40.805"/>
  <path stroke="#a80036" d="M939.5 313.016v87.398"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M939.5 400.414v40.805"/>
  <path stroke="#a80036" d="M939.5 441.219v1603.172M1260 111.68v160.531"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M1260 272.211v40.805"/>
  <path stroke="#a80036" d="M1260 313.016v87.398"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M1260 400.414v40.805"/>
  <path stroke="#a80036" d="M1260 441.219v1603.172M1545 111.68v160.531"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M1545 272.211v40.805"/>
  <path stroke="#a80036" d="M1545 313.016v87.398"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M1545 400.414v40.805"/>
  <path stroke="#a80036" d="M1545 441.219v1603.172M1890.5 111.68v160.531"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M1890.5 272.211v40.805"/>
  <path stroke="#a80036" d="M1890.5 313.016v87.398"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M1890.5 400.414v40.805"/>
  <path stroke="#a80036" d="M1890.5 441.219v1603.172M2395.5 111.68v160.531"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M2395.5 272.211v40.805"/>
  <path stroke="#a80036" d="M2395.5 313.016v87.398"/>
  <path stroke="#a80036" stroke-dasharray="1,4" d="M2395.5 400.414v40.805"/>
  <path stroke="#a80036" d="M2395.5 441.219v1603.172"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M89 76.383h92v30.297H89z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="96" y="96.378">
    PISP Server
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M89 2043.391h92v30.297H89z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="96" y="2063.386">
    PISP Server
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M195 76.383h99v30.297h-99z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="202" y="96.378">
    auth-service
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M195 2043.391h99v30.297h-99z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="202" y="2063.386">
    auth-service
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M588 76.383h59v30.297h-59z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="45" x="595" y="96.378">
    Switch
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M588 2043.391h59v30.297h-59z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="45" x="595" y="2063.386">
    Switch
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M661 76.383h39v30.297h-39z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="25" x="668" y="96.378">
    ALS
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M661 2043.391h39v30.297h-39z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="25" x="668" y="2063.386">
    ALS
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M714 60.086h64v46.594h-64z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="721" y="80.081">
    DFSP A
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="722" y="96.378">
    (Payer)
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M714 2043.391h64v46.594h-64z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="721" y="2063.386">
    DFSP A
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="722" y="2079.683">
    (Payer)
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M902.5 76.383h70v30.297h-70z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="909.5" y="96.378">
    3p-sa-in
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M902.5 2043.391h70v30.297h-70z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="909.5" y="2063.386">
    3p-sa-in
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1218 76.383h81v30.297h-81z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="67" x="1225" y="96.378">
    3p-sa-out
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1218 2043.391h81v30.297h-81z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="67" x="1225" y="2063.386">
    3p-sa-out
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1505 76.383h77v30.297h-77z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="1512" y="96.378">
    sdk-sa-in
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1505 2043.391h77v30.297h-77z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="1512" y="2063.386">
    sdk-sa-in
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1844.5 76.383h88v30.297h-88z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="74" x="1851.5" y="96.378">
    sdk-sa-out
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1844.5 2043.391h88v30.297h-88z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="74" x="1851.5" y="2063.386">
    sdk-sa-out
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M2360.5 60.086h66v46.594h-66z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="51" x="2368" y="80.081">
    DFSP B
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="2367.5" y="96.378">
    (Payee)
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M2360.5 2043.391h66v46.594h-66z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="51" x="2368" y="2063.386">
    DFSP B
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="2367.5" y="2079.683">
    (Payee)
  </text>
  <path d="M273 126.68v25h688v-15l-10-10H273" fill="#FBFB77" filter="url(#a)" stroke="#a80036"/>
  <path d="M951 126.68v10h10l-10-10" fill="#FBFB77" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="667" x="279" y="143.747">
    This document aims to demonstrate the high level API Calls between the PISP, Mojaloop Hub and DFSPs.
  </text>
  <path fill="#EEE" filter="url(#a)" stroke="#eee" d="M0 181.379h2435.5v3H0z"/>
  <path stroke="#000" d="M0 181.379h2435.5M0 184.379h2435.5"/>
  <path fill="#EEE" filter="url(#a)" stroke="#000" stroke-width="2" d="M1137.25 170.813h161v23.133h-161z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="142" x="1143.25" y="186.879">
    Discovery (Lookup)
  </text>
  <path d="M8 208.945v25h254v-15l-10-10H8" fill="#FBFB77" filter="url(#a)" stroke="#a80036"/>
  <path d="M252 208.945v10h10l-10-10" fill="#FBFB77" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="233" x="14" y="226.012">
    PISPTransactionModel Lookup phase
  </text>
  <path fill="#A80036" stroke="#a80036" d="M607.5 260.21l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M137 264.211h476.5"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="248" x="144" y="259.145">
    GET /parties/MSISDN/+4412345678
  </text>
  <text font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="255" x="1138.75" y="296.421">
    Get participants/parties flow not shown here
  </text>
  <path fill="#A80036" stroke="#a80036" d="M2383.5 330.148l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M619.5 334.148h1770"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="248" x="626.5" y="329.082">
    GET /parties/MSISDN/+4412345678
  </text>
  <path fill="#A80036" stroke="#a80036" d="M630.5 359.281l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M624.5 363.281h1770"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="248" x="636.5" y="358.215">
    PUT /parties/MSISDN/+4412345678
  </text>
  <path fill="#A80036" stroke="#a80036" d="M148 388.414l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M142 392.414h476.5"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="248" x="154" y="387.348">
    PUT /parties/MSISDN/+4412345678
  </text>
  <text font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="237" x="1147.75" y="424.625">
    PISP confirms payee party with their user
  </text>
  <path fill="#EEE" filter="url(#a)" stroke="#eee" d="M0 461.785h2435.5v3H0z"/>
  <path stroke="#000" d="M0 461.785h2435.5M0 464.785h2435.5"/>
  <path fill="#EEE" filter="url(#a)" stroke="#000" stroke-width="2" d="M1142.25 451.219h151v23.133h-151z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="132" x="1148.25" y="467.286">
    Agreement Phase
  </text>
  <path d="M9 489.352v25h251v-15l-10-10H9" fill="#FBFB77" filter="url(#a)" stroke="#a80036"/>
  <path d="M250 489.352v10h10l-10-10" fill="#FBFB77" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="230" x="15" y="506.418">
    PISPTransactionModel Initiate phase
  </text>
  <path fill="#A80036" stroke="#a80036" d="M607.5 540.617l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M137 544.617h476.5"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="296" x="144" y="539.551">
    POST /thirdpartyRequests/transactions
  </text>
  <path fill="#A80036" stroke="#a80036" d="M927.5 569.75l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M619.5 573.75h314"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="296" x="626.5" y="568.684">
    POST /thirdpartyRequests/transactions
  </text>
  <path stroke="#a80036" d="M939.5 633.148h42M981.5 633.148v13M940.5 646.148h41"/>
  <path fill="#A80036" stroke="#a80036" d="M950.5 642.148l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="946.5" y="597.817">
    Lookup this
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="1023.5" y="597.817">
    consentId
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="1095.5" y="597.817">
    ,
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="1103.5" y="597.817">
    sourceAccountId
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="946.5" y="612.95">
    and
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="974.5" y="612.95">
    pispId
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="227" x="1022.5" y="612.95">
    . Verify that they exist, and consent
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="205" x="946.5" y="628.082">
    is granted with a valid credential
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1878.5 671.281l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M939.5 675.281h945"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="214" x="946.5" y="670.215">
    sync POST /requestToPayTransfer
  </text>
  <path stroke="#a80036" d="M1890.5 704.414h42M1932.5 704.414v13M1891.5 717.414h41"/>
  <path fill="#A80036" stroke="#a80036" d="M1901.5 713.414l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="491" x="1897.5" y="699.348">
    OutboundRequestToPayTransferModel starts workflow with PISP Authorization
  </text>
  <path fill="#A80036" stroke="#a80036" d="M630.5 742.547l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M624.5 746.547h1265"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="636.5" y="741.481">
    POST /quotes
  </text>
  <path fill="#A80036" stroke="#a80036" d="M2383.5 771.68l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M619.5 775.68h1770"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="626.5" y="770.614">
    POST /quotes
  </text>
  <path fill="#A80036" stroke="#a80036" d="M630.5 800.813l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M624.5 804.813h1770"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="636.5" y="799.747">
    PUT /quotes/456
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1878.5 829.945l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M619.5 833.945h1265"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="626.5" y="828.879">
    PUT /quotes/456
  </text>
  <path d="M464 846.945v40h275v-30l-10-10H464" fill="#FBFB77" filter="url(#a)" stroke="#a80036"/>
  <path d="M729 846.945v10h10l-10-10" fill="#FBFB77" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="254" x="470" y="864.012">
    DFSPA has the quote, they can now ask
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="470" y="879.145">
    the PISP for authorization
  </text>
  <path fill="#A80036" stroke="#a80036" d="M630.5 913.344l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M624.5 917.344h1265"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="636.5" y="912.278">
    POST /authorizations
  </text>
  <path fill="#A80036" stroke="#a80036" d="M148 942.477l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M142 946.477h476.5"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="154" y="941.411">
    POST /authorizations
  </text>
  <path d="M142 959.477v40h358v-30l-10-10H142" fill="#FBFB77" filter="url(#a)" stroke="#a80036"/>
  <path d="M490 959.477v10h10l-10-10" fill="#FBFB77" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="232" x="148" y="976.543">
    PISP checks the quote with the user,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="337" x="148" y="991.676">
    and uses FIDO to sign the the QuoteResponse object
  </text>
  <path d="M5 1013.742v25h261v-15l-10-10H5" fill="#FBFB77" filter="url(#a)" stroke="#a80036"/>
  <path d="M256 1013.742v10h10l-10-10" fill="#FBFB77" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="240" x="11" y="1030.809">
    PISPTransactionModel Approve phase
  </text>
  <path fill="#A80036" stroke="#a80036" d="M607.5 1065.008l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M137 1069.008h476.5"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="184" x="144" y="1063.942">
    PUT /authorizations/123
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1533.5 1094.14l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M619.5 1098.141h920"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="184" x="626.5" y="1093.075">
    PUT /authorizations/123
  </text>
  <path stroke="#a80036" d="M1545.5 1142.406h42M1587.5 1142.406v13M1546.5 1155.406h41"/>
  <path fill="#A80036" stroke="#a80036" d="M1556.5 1151.406l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="71" x="1552.5" y="1122.207">
    Lookup the
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="240" x="1627.5" y="1122.207">
    thirdpartyRequests/transaction
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="1552.5" y="1137.34">
    request, get the
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="1659.5" y="1137.34">
    consentId
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="1735.5" y="1137.34">
    and
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="1763.5" y="1137.34">
    sourceAccountId
  </text>
  <path stroke="#a80036" d="M1545.5 1199.672h42M1587.5 1199.672v13M1546.5 1212.672h41"/>
  <path fill="#A80036" stroke="#a80036" d="M1556.5 1208.672l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="1552.5" y="1179.473">
    Confirm pispId from
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="184" x="1681.5" y="1179.473">
    PUT /authorizations/123
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="1556.5" y="1194.606">
    matches the
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="240" x="1641.5" y="1194.606">
    thirdpartyRequests/transaction
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1271.5 1237.805l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M1265.5 1241.805h279"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="223" x="1277.5" y="1236.739">
    sync call POST /verify-authorization
  </text>
  <path d="M517 1254.805v40h458v-30l-10-10H517" fill="#FBFB77" filter="url(#a)" stroke="#a80036"/>
  <path d="M965 1254.805v10h10l-10-10" fill="#FBFB77" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="201" x="523" y="1271.872">
    Switch has the signed condition
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="437" x="523" y="1287.004">
    For 3rd party FIDO, it now needs to make sure everything checks out
  </text>
  <path fill="#A80036" stroke="#a80036" d="M630.5 1336.336l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M624.5 1340.336h635"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="296" x="636.5" y="1320.137">
    POST /thirdpartyRequests/transactions
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="676.5" y="1335.27">
    /123/authorizations
  </text>
  <path fill="#A80036" stroke="#a80036" d="M257.5 1380.602l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M251.5 1384.602h367"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="296" x="263.5" y="1364.403">
    POST /thirdpartyRequests/transactions
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="303.5" y="1379.536">
    /123/authorizations
  </text>
  <path stroke="#a80036" d="M246.5 1413.734h42M288.5 1413.734v13M247.5 1426.734h41"/>
  <path fill="#A80036" stroke="#a80036" d="M257.5 1422.734l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="257" x="253.5" y="1408.668">
    Lookup this consent based on consentId
  </text>
  <path stroke="#a80036" d="M246.5 1455.867h42M288.5 1455.867v13M247.5 1468.867h41"/>
  <path fill="#A80036" stroke="#a80036" d="M257.5 1464.867l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="359" x="253.5" y="1450.801">
    Ensure the sourceAccountId matches what is in Consent
  </text>
  <path stroke="#a80036" d="M246.5 1513.133h42M288.5 1513.133v13M247.5 1526.133h41"/>
  <path fill="#A80036" stroke="#a80036" d="M257.5 1522.133l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="249" x="253.5" y="1492.934">
    Check that the signed bytes match the
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="261" x="253.5" y="1508.067">
    publickey we have stored for the consent
  </text>
  <path fill="#A80036" stroke="#a80036" d="M607.5 1566.398l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M246.5 1570.398h367"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="288" x="253.5" y="1550.2">
    PUT /thirdpartyRequests/transactions
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="285.5" y="1565.332">
    /123/authorizations
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1248.5 1610.664l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M619.5 1614.664h635"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="288" x="626.5" y="1594.465">
    PUT /thirdpartyRequests/transactions
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="658.5" y="1609.598">
    /123/authorizations
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1533.5 1639.797l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M1260.5 1643.797h279"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="261" x="1267.5" y="1638.731">
    sync response POST /verify-authorization
  </text>
  <path d="M560 1656.797v40h372v-30l-10-10H560" fill="#FBFB77" filter="url(#a)" stroke="#a80036"/>
  <path d="M922 1656.797v10h10l-10-10" fill="#FBFB77" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="351" x="566" y="1673.864">
    DFSPA now knows that the user signed this transaction
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="269" x="566" y="1688.997">
    and can go ahead and initiate the transfer
  </text>
  <path fill="#EEE" filter="url(#a)" stroke="#eee" d="M0 1726.629h2435.5v3H0z"/>
  <path stroke="#000" d="M0 1726.629h2435.5M0 1729.629h2435.5"/>
  <path fill="#EEE" filter="url(#a)" stroke="#000" stroke-width="2" d="M1152.75 1716.063h130v23.133h-130z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="111" x="1158.75" y="1732.129">
    Transfer Phase
  </text>
  <path fill="#A80036" stroke="#a80036" d="M630.5 1766.328l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M624.5 1770.328H747"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="636.5" y="1765.262">
    POST /transfers
  </text>
  <path fill="#A80036" stroke="#a80036" d="M2383.5 1795.46l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M619.5 1799.461h1770"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="626.5" y="1794.395">
    POST /transfers
  </text>
  <path fill="#A80036" stroke="#a80036" d="M630.5 1824.594l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M624.5 1828.594h1770"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="636.5" y="1823.528">
    PUT /transfers/321
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1533.5 1853.727l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M619.5 1857.727h920"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="626.5" y="1852.661">
    PUT /transfers/321
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1878.5 1882.86l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M1545.5 1886.859h339"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="1552.5" y="1881.793">
    notify via redis-cache
  </text>
  <path stroke="#a80036" d="M1890.5 1915.992h42M1932.5 1915.992v13M1891.5 1928.992h41"/>
  <path fill="#A80036" stroke="#a80036" d="M1901.5 1924.992l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="335" x="1897.5" y="1910.926">
    OutboundRequestToPayTransferModel workflow ends
  </text>
  <path fill="#A80036" stroke="#a80036" d="M950.5 1954.125l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M944.5 1958.125h945"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="277" x="956.5" y="1953.059">
    sync response POST /requestToPayTransfer
  </text>
  <path d="M599 1971.125v25h676v-15l-10-10H599" fill="#FBFB77" filter="url(#a)" stroke="#a80036"/>
  <path d="M1265 1971.125v10h10l-10-10" fill="#FBFB77" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="655" x="605" y="1988.192">
    DFSPA 3psa_in now knows that transfer initiated by PISP has ended and notify PISP about the outcome
  </text>
  <path fill="#A80036" stroke="#a80036" d="M148 2022.39l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M142 2026.391h796.5"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="283" x="154" y="2021.325">
    PATCH /thirdpartyRequests/transactions/123
  </text>
</svg>
