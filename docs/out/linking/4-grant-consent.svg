<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="743px" preserveAspectRatio="none" style="width:1403px;height:743px;" version="1.1" viewBox="0 0 1403 743" width="1403px" zoomAndPan="magnify"><defs><filter height="300%" id="ffw36wz6bn99g" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#DDDDDD" height="697.9355" style="stroke: #A80036; stroke-width: 1.0;" width="777" x="561.5" y="34.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="61" x="919.5" y="47.0566">Mojaloop</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="198" x="600.75" y="23.5352">PISP Linking: Grant consent</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="26" x2="26" y1="89.2871" y2="690.9355"/><rect fill="#FFFFFF" filter="url(#ffw36wz6bn99g)" height="93.2422" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="21" y="597.6934"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="657" x2="657" y1="89.2871" y2="690.9355"/><rect fill="#FFFFFF" filter="url(#ffw36wz6bn99g)" height="364.1895" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="652" y="316.7461"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="849" x2="849" y1="89.2871" y2="690.9355"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1283" x2="1283" y1="89.2871" y2="690.9355"/><rect fill="#FFFFFF" filter="url(#ffw36wz6bn99g)" height="47.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1278" y="643.625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1370.5" x2="1370.5" y1="89.2871" y2="690.9355"/><rect fill="#FEFECE" filter="url(#ffw36wz6bn99g)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="42" x="3" y="53.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="28" x="10" y="74.334">PISP</text><rect fill="#FEFECE" filter="url(#ffw36wz6bn99g)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="179" x="565.5" y="53.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="165" x="572.5" y="74.334">Thirdparty-API-Adapter</text><rect fill="#FEFECE" filter="url(#ffw36wz6bn99g)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="177" x="758.5" y="53.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="163" x="765.5" y="74.334">Account Lookup Service</text><rect fill="#FEFECE" filter="url(#ffw36wz6bn99g)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="99" x="1231.5" y="53.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="1238.5" y="74.334">Auth Service</text><rect fill="#FEFECE" filter="url(#ffw36wz6bn99g)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="48" x="1344.5" y="53.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="34" x="1351.5" y="74.334">DFSP</text><rect fill="#FEFECE" filter="url(#ffw36wz6bn99g)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="42" x="3" y="690.9355"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="28" x="10" y="711.4707">PISP</text><rect fill="#FEFECE" filter="url(#ffw36wz6bn99g)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="179" x="565.5" y="690.9355"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="165" x="572.5" y="711.4707">Thirdparty-API-Adapter</text><rect fill="#FEFECE" filter="url(#ffw36wz6bn99g)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="177" x="758.5" y="690.9355"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="163" x="765.5" y="711.4707">Account Lookup Service</text><rect fill="#FEFECE" filter="url(#ffw36wz6bn99g)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="99" x="1231.5" y="690.9355"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="1238.5" y="711.4707">Auth Service</text><rect fill="#FEFECE" filter="url(#ffw36wz6bn99g)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="48" x="1344.5" y="690.9355"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="34" x="1351.5" y="711.4707">DFSP</text><polygon fill="#A80036" points="673,312.7461,663,316.7461,673,320.7461,669,316.7461" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="667" x2="1369.5" y1="316.7461" y2="316.7461"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="65" x="679" y="212.9297">GRANT-1</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="748" y="113.354">POST /consents</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="764" y="128.4868">FSIOP-Source: dfspa</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="248" x="764" y="143.6196">FSIOP-Destination: central-auth</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="764" y="158.7524">FSIOP-Destination: pispa</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="764" y="173.8853">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="764" y="189.5195"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="780" y="189.1958">consentId: "123",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="764" y="204.8301"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="780" y="204.5063">consentRequestId: "456",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="764" y="220.1406"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="780" y="219.8169">scopes: [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="764" y="235.4512"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="796" y="235.1274">{</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="488" x="812" y="235.1274">accountId: "dfsp.username.1234", // If web, these may change!</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="764" y="250.7617"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="464" x="812" y="250.438">actions: [ "accounts.transfer", "accounts.getBalance" ] },</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="764" y="266.0723"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="272" x="796" y="265.7485">{ accountId: "dfsp.username.5678",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="764" y="281.3828"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="464" x="812" y="281.0591">actions: [ "accounts.transfer", "accounts.getBalance" ] },</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="764" y="296.6934"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="16" x="780" y="296.3696">],</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="764" y="312.0039"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="764" y="311.6802">}</text><polygon fill="#A80036" points="1358.5,342.0566,1368.5,346.0566,1358.5,350.0566,1362.5,346.0566" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="662" x2="1364.5" y1="346.0566" y2="346.0566"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="65" x="669" y="341.3145">GRANT-2</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="738" y="340.9019">202 Accepted</text><path d="M399,359.0566 L399,384.0566 L911,384.0566 L911,369.0566 L901,359.0566 L399,359.0566 " fill="#FBFB77" filter="url(#ffw36wz6bn99g)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M901,359.0566 L901,369.0566 L911,369.0566 L901,359.0566 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="491" x="405" y="376.625">The Switch must inform both the PISP and the Auth service about the consent.</text><polygon fill="#A80036" points="42,639.625,32,643.625,42,647.625,38,643.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="36" x2="651" y1="643.625" y2="643.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="65" x="48" y="547.375">GRANT-3</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="117" y="455.3657">POST /consents</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="133" y="470.4985">FSIOP-Source: dfspa</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="133" y="485.6313">FSIOP-Destination: pispa</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="141" y="500.7642">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="133" y="516.3984"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="149" y="516.0747">consentId: "123",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="133" y="531.709"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="149" y="531.3853">consentRequestId: "456",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="133" y="547.0195"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="149" y="546.6958">scopes: [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="133" y="562.3301"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="272" x="165" y="562.0063">{ accountId: "dfsp.username.1234",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="133" y="577.6406"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="464" x="181" y="577.3169">actions: [ "accounts.transfer", "accounts.getBalance" ] },</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="133" y="592.9512"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="272" x="165" y="592.6274">{ accountId: "dfsp.username.5678",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="133" y="608.2617"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="464" x="181" y="607.938">actions: [ "accounts.transfer", "accounts.getBalance" ] },</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="133" y="623.5723"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="16" x="149" y="623.2485">],</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="133" y="638.8828"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="133" y="638.5591">}</text><polygon fill="#A80036" points="1266,639.625,1276,643.625,1266,647.625,1270,643.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="662" x2="1272" y1="643.625" y2="643.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="65" x="669" y="524.4092">GRANT-4</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="738" y="409.4341">POST /consents</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="754" y="424.5669">FSIOP-Source: dfspa</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="248" x="754" y="439.6997">FSIOP-Destination: central-auth</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="746" y="454.8325">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="754" y="470.4668"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="80" x="770" y="470.1431">id: "123",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="754" y="485.7773"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="770" y="485.4536">requestId: "456",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="754" y="501.0879"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="168" x="770" y="500.7642">initiatorId: "pispa",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="754" y="516.3984"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="184" x="770" y="516.0747">participantId: "dfspa",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="754" y="531.709"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="770" y="531.3853">scopes: [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="754" y="547.0195"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="272" x="786" y="546.6958">{ accountId: "dfsp.username.1234",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="754" y="562.3301"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="464" x="802" y="562.0063">actions: [ "accounts.transfer", "accounts.getBalance" ] },</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="754" y="577.6406"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="272" x="786" y="577.3169">{ accountId: "dfsp.username.5678",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="754" y="592.9512"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="464" x="802" y="592.6274">actions: [ "accounts.transfer", "accounts.getBalance" ] },</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="754" y="608.2617"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="16" x="770" y="607.938">],</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="754" y="623.5723"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="770" y="623.2485">credential: null</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="754" y="638.8828"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="754" y="638.5591">}</text><polygon fill="#A80036" points="640,668.9355,650,672.9355,640,676.9355,644,672.9355" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="31" x2="646" y1="672.9355" y2="672.9355"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="65" x="38" y="668.1934">GRANT-5</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="107" y="667.7808">202 Accepted</text><polygon fill="#A80036" points="673,668.9355,663,672.9355,673,676.9355,669,672.9355" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="667" x2="1277" y1="672.9355" y2="672.9355"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="65" x="679" y="668.1934">GRANT-6</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="748" y="667.7808">202 Accepted</text><!--
@startuml

!pragma teoz true

title PISP Linking: Grant consent

participant "PISP" as PISP

box "Mojaloop"
    participant "Thirdparty-API-Adapter" as Switch
    participant "Account Lookup Service" as ALS
    participant "Auth Service" as Auth
end box

participant "DFSP" as DFSP

autonumber 1 "<b>GRANT-#</b>"

DFSP -> Switch ++: ""POST /consents""\n""  FSIOP-Source: dfspa""\n""  FSIOP-Destination: central-auth""\n""  FSIOP-Destination: pispa""\n""  {""\n    ""  consentId: "123",""\n    ""  consentRequestId: "456",""\n    ""  scopes: [ ""\n    ""    { **accountId: "dfsp.username.1234", // If web, these may change!**""\n    ""      actions: [ "accounts.transfer", "accounts.getBalance" ] },""\n    ""    { accountId: "dfsp.username.5678",""\n    ""      actions: [ "accounts.transfer", "accounts.getBalance" ] },""\n    ""  ],""\n    ""}""
Switch - -> DFSP: ""202 Accepted""
deactivate DFSP

note over Switch
  The Switch must inform both the PISP and the Auth service about the consent.
end note

Switch -> PISP ++: ""POST /consents""\n""  FSIOP-Source: dfspa""\n""  FSIOP-Destination: pispa""\n""   {""\n    ""  consentId: "123",""\n    ""  consentRequestId: "456",""\n    ""  scopes: [ ""\n    ""    { accountId: "dfsp.username.1234",""\n    ""      actions: [ "accounts.transfer", "accounts.getBalance" ] },""\n    ""    { accountId: "dfsp.username.5678",""\n    ""      actions: [ "accounts.transfer", "accounts.getBalance" ] },""\n    ""  ],""\n    ""}""
& Switch -> Auth ++: ""POST /consents""\n""  FSIOP-Source: dfspa""\n""  FSIOP-Destination: central-auth""\n"" {""\n    ""  id: "123",""\n    ""  requestId: "456",""\n    ""  initiatorId: "pispa",""\n    ""  participantId: "dfspa",""\n    ""  scopes: [ ""\n    ""    { accountId: "dfsp.username.1234",""\n    ""      actions: [ "accounts.transfer", "accounts.getBalance" ] },""\n    ""    { accountId: "dfsp.username.5678",""\n    ""      actions: [ "accounts.transfer", "accounts.getBalance" ] },""\n    ""  ],""\n    ""  credential: null""\n    ""}""

PISP - -> Switch: ""202 Accepted""
& Auth - -> Switch: ""202 Accepted""




deactivate Switch

@enduml

PlantUML version 1.2019.06(Sat May 25 01:10:25 PHT 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_171-b11
Operating System: Mac OS X
OS Version: 10.13.6
Default Encoding: UTF-8
Language: en
Country: AU
--></g></svg>