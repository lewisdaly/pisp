<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="800px" preserveAspectRatio="none" style="width:1125px;height:800px;" version="1.1" viewBox="0 0 1125 800" width="1125px" zoomAndPan="magnify"><defs><filter height="300%" id="f1hbjpgkct9pqx" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="168" x="479" y="23.5352">PISP Linking: Discovery</text><rect fill="#DDDDDD" height="754.6504" style="stroke: #A80036; stroke-width: 1.0;" width="99" x="4" y="34.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="93" x="7" y="47.0566">Mobile device</text><rect fill="#DDDDDD" height="754.6504" style="stroke: #A80036; stroke-width: 1.0;" width="54" x="105" y="34.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27" x="118.5" y="47.0566">PISP</text><rect fill="#DDDDDD" height="754.6504" style="stroke: #A80036; stroke-width: 1.0;" width="70" x="577" y="34.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="61" x="581.5" y="47.0566">Mojaloop</text><rect fill="#FFFFFF" filter="url(#f1hbjpgkct9pqx)" height="67.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="127" y="99.2871"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="127" x2="127" y1="99.2871" y2="166.5977"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="137" x2="137" y1="99.2871" y2="166.5977"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="127" x2="137" y1="99.2871" y2="99.2871"/><rect fill="#FFFFFF" filter="url(#f1hbjpgkct9pqx)" height="81.0645" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="127" y="194.5977"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="127" x2="127" y1="194.5977" y2="275.6621"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="137" x2="137" y1="194.5977" y2="275.6621"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="127" x2="137" y1="275.6621" y2="275.6621"/><rect fill="#FFFFFF" filter="url(#f1hbjpgkct9pqx)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="127" y="636.0293"/><rect fill="#FFFFFF" filter="url(#f1hbjpgkct9pqx)" height="118.375" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="607" y="246.3516"/><rect fill="#FFFFFF" filter="url(#f1hbjpgkct9pqx)" height="179.6172" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="607" y="485.7227"/><rect fill="#FFFFFF" filter="url(#f1hbjpgkct9pqx)" height="179.6172" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1087" y="335.416"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="53.5" x2="53.5" y1="89.2871" y2="99.2871"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="53.5" x2="53.5" y1="99.2871" y2="127.2871"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="53.5" x2="53.5" y1="127.2871" y2="166.5977"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="53.5" x2="53.5" y1="166.5977" y2="194.5977"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="53.5" x2="53.5" y1="194.5977" y2="673.3398"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="53.5" x2="53.5" y1="673.3398" y2="701.3398"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="53.5" x2="53.5" y1="701.3398" y2="750.6504"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="132" x2="132" y1="89.2871" y2="99.2871"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="132" x2="132" y1="99.2871" y2="127.2871"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="132" x2="132" y1="127.2871" y2="166.5977"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="132" x2="132" y1="166.5977" y2="194.5977"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="132" x2="132" y1="194.5977" y2="673.3398"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="132" x2="132" y1="673.3398" y2="701.3398"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="132" x2="132" y1="701.3398" y2="750.6504"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="612" x2="612" y1="89.2871" y2="99.2871"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="612" x2="612" y1="99.2871" y2="127.2871"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="612" x2="612" y1="127.2871" y2="166.5977"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="612" x2="612" y1="166.5977" y2="194.5977"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="612" x2="612" y1="194.5977" y2="673.3398"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="612" x2="612" y1="673.3398" y2="701.3398"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="612" x2="612" y1="701.3398" y2="750.6504"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1092" x2="1092" y1="89.2871" y2="99.2871"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="1092" x2="1092" y1="99.2871" y2="127.2871"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1092" x2="1092" y1="127.2871" y2="166.5977"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="1092" x2="1092" y1="166.5977" y2="194.5977"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1092" x2="1092" y1="194.5977" y2="673.3398"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="1092" x2="1092" y1="673.3398" y2="701.3398"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1092" x2="1092" y1="701.3398" y2="750.6504"/><rect fill="#FEFECE" filter="url(#f1hbjpgkct9pqx)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="42" x="30.5" y="53.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="28" x="37.5" y="74.334">App</text><rect fill="#FEFECE" filter="url(#f1hbjpgkct9pqx)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="42" x="30.5" y="749.6504"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="28" x="37.5" y="770.1855">App</text><rect fill="#FEFECE" filter="url(#f1hbjpgkct9pqx)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="42" x="109" y="53.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="28" x="116" y="74.334">PISP</text><rect fill="#FEFECE" filter="url(#f1hbjpgkct9pqx)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="42" x="109" y="749.6504"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="28" x="116" y="770.1855">PISP</text><rect fill="#FEFECE" filter="url(#f1hbjpgkct9pqx)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="58" x="581" y="53.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="588" y="74.334">Switch</text><rect fill="#FEFECE" filter="url(#f1hbjpgkct9pqx)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="58" x="581" y="749.6504"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="588" y="770.1855">Switch</text><rect fill="#FEFECE" filter="url(#f1hbjpgkct9pqx)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="48" x="1066" y="53.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="34" x="1073" y="74.334">DFSP</text><rect fill="#FEFECE" filter="url(#f1hbjpgkct9pqx)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="48" x="1066" y="749.6504"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="34" x="1073" y="770.1855">DFSP</text><rect fill="#FFFFFF" filter="url(#f1hbjpgkct9pqx)" height="67.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="127" y="99.2871"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="127" x2="127" y1="99.2871" y2="166.5977"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="137" x2="137" y1="99.2871" y2="166.5977"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="127" x2="137" y1="99.2871" y2="99.2871"/><rect fill="#FFFFFF" filter="url(#f1hbjpgkct9pqx)" height="81.0645" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="127" y="194.5977"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="127" x2="127" y1="194.5977" y2="275.6621"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="137" x2="137" y1="194.5977" y2="275.6621"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="127" x2="137" y1="275.6621" y2="275.6621"/><rect fill="#FFFFFF" filter="url(#f1hbjpgkct9pqx)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="127" y="636.0293"/><rect fill="#FFFFFF" filter="url(#f1hbjpgkct9pqx)" height="118.375" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="607" y="246.3516"/><rect fill="#FFFFFF" filter="url(#f1hbjpgkct9pqx)" height="179.6172" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="607" y="485.7227"/><rect fill="#FFFFFF" filter="url(#f1hbjpgkct9pqx)" height="179.6172" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1087" y="335.416"/><path d="M31,132.2871 L31,157.2871 L1113,157.2871 L1113,142.2871 L1103,132.2871 L31,132.2871 " fill="#FBFB77" filter="url(#f1hbjpgkct9pqx)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1103,132.2871 L1103,142.2871 L1113,142.2871 L1103,132.2871 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="881" x="125.25" y="149.8555">The user will be prompted in the PISP App for the unique ID they use with their DFSP. This could be a username, MSISDN, email address, etc.</text><polygon fill="#A80036" points="595,242.3516,605,246.3516,595,250.3516,599,246.3516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="137" x2="601" y1="246.3516" y2="246.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="47" x="144" y="226.3877">DISC-1</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="256" x="195" y="210.6646">GET /parties/OPAQUE/username1234</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="203" y="226.2988"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="219" y="225.9751">FSIOP-Source: pispa</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="203" y="241.6094"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="219" y="241.2856">FSIOP-Destination: dfspa</text><polygon fill="#A80036" points="143,271.6621,133,275.6621,143,279.6621,139,275.6621" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="137" x2="606" y1="275.6621" y2="275.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="47" x="149" y="270.9199">DISC-2</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="200" y="270.5073">202 Accepted</text><polygon fill="#A80036" points="1075,331.416,1085,335.416,1075,339.416,1079,335.416" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="617" x2="1081" y1="335.416" y2="335.416"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="47" x="624" y="315.4521">DISC-3</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="256" x="675" y="299.729">GET /parties/OPAQUE/username1234</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="683" y="315.3633"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="699" y="315.0396">FSIOP-Source: pispa</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="683" y="330.6738"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="699" y="330.3501">FSIOP-Destination: dfspa</text><polygon fill="#A80036" points="623,360.7266,613,364.7266,623,368.7266,619,364.7266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="617" x2="1086" y1="364.7266" y2="364.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="47" x="629" y="359.9844">DISC-4</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="680" y="359.5718">202 Accepted</text><polygon fill="#A80036" points="628,481.7227,618,485.7227,628,489.7227,624,485.7227" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="622" x2="1086" y1="485.7227" y2="485.7227"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="47" x="634" y="435.1377">DISC-5</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="256" x="685" y="388.7935">PUT /parties/OPAQUE/username1234</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="693" y="404.4277"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="709" y="404.104">FSIOP-Source: dfspa</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="693" y="419.7383"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="709" y="419.4146">FSIOP-Destination: pispa</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="693" y="435.0488"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="693" y="434.7251">{ [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="693" y="450.3594"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="376" x="709" y="450.0356">{ id: "dfspa.username.1234", currency: "ZAR" },</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="693" y="465.6699"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="368" x="709" y="465.3462">{ id: "dfspa.username.5678", currency: "USD" }</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="693" y="480.9805"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="693" y="480.6567">] }</text><polygon fill="#A80036" points="1080,511.0332,1090,515.0332,1080,519.0332,1084,515.0332" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="617" x2="1086" y1="515.0332" y2="515.0332"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="47" x="624" y="510.291">DISC-6</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="675" y="509.8784">200 OK</text><polygon fill="#A80036" points="148,632.0293,138,636.0293,148,640.0293,144,636.0293" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="142" x2="606" y1="636.0293" y2="636.0293"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="47" x="154" y="585.4443">DISC-7</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="256" x="205" y="539.1001">PUT /parties/OPAQUE/username1234</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="213" y="554.7344"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="229" y="554.4106">FSIOP-Source: dfspa</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="213" y="570.0449"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="229" y="569.7212">FSIOP-Destination: pispa</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="213" y="585.3555"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="213" y="585.0317">{ [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="213" y="600.666"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="376" x="229" y="600.3423">{ id: "dfspa.username.1234", currency: "ZAR" },</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="213" y="615.9766"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="368" x="229" y="615.6528">{ id: "dfspa.username.5678", currency: "USD" }</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="213" y="631.2871"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="213" y="630.9634">] }</text><polygon fill="#A80036" points="600,661.3398,610,665.3398,600,669.3398,604,665.3398" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="132" x2="606" y1="665.3398" y2="665.3398"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="47" x="139" y="660.5977">DISC-8</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="190" y="660.1851">200 OK</text><path d="M31,706.3398 L31,731.3398 L1113,731.3398 L1113,716.3398 L1103,706.3398 L31,706.3398 " fill="#FBFB77" filter="url(#f1hbjpgkct9pqx)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1103,706.3398 L1103,716.3398 L1113,716.3398 L1103,706.3398 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="475" x="328.25" y="723.9082">The PISP can now present a list of possible accounts to the user for pairing.</text><!--
@startuml

title PISP Linking: Discovery

box "Mobile device"
    participant App
end box

box "PISP"
    participant PISP
end box

box "Mojaloop"
    participant Switch
end box

participant DFSP

autonumber 1 "<b>DISC-#</b>"
activate PISP

...

note over App, DFSP
  The user will be prompted in the PISP App for the unique ID they use with their DFSP. This could be a username, MSISDN, email address, etc.
end note

...

PISP -> Switch ++: ""GET /parties/OPAQUE/username1234""\n  ""  FSIOP-Source: pispa""\n  ""  FSIOP-Destination: dfspa""
Switch - -> PISP: ""202 Accepted""
deactivate PISP

Switch -> DFSP ++: ""GET /parties/OPAQUE/username1234""\n  ""  FSIOP-Source: pispa""\n  ""  FSIOP-Destination: dfspa""
DFSP - -> Switch: ""202 Accepted""
deactivate Switch

DFSP -> Switch ++: ""PUT /parties/OPAQUE/username1234""\n  ""  FSIOP-Source: dfspa""\n  ""  FSIOP-Destination: pispa""\n  ""{ [""\n  ""  { id: "dfspa.username.1234", currency: "ZAR" },""\n  ""  { id: "dfspa.username.5678", currency: "USD" }""\n  ""] }""
Switch - -> DFSP: ""200 OK""
deactivate DFSP

Switch -> PISP ++: ""PUT /parties/OPAQUE/username1234""\n  ""  FSIOP-Source: dfspa""\n  ""  FSIOP-Destination: pispa""\n  ""{ [""\n  ""  { id: "dfspa.username.1234", currency: "ZAR" },""\n  ""  { id: "dfspa.username.5678", currency: "USD" }""\n  ""] }""
PISP - -> Switch: ""200 OK""
deactivate Switch
deactivate PISP

...

note over App, DFSP
  The PISP can now present a list of possible accounts to the user for pairing.
end note

@enduml

PlantUML version 1.2019.06(Sat May 25 01:10:25 PHT 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_171-b11
Operating System: Mac OS X
OS Version: 10.13.6
Default Encoding: UTF-8
Language: en
Country: AU
--></g></svg>